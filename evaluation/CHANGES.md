# ä¼˜åŒ–æ”¹è¿›è®°å½•

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### ğŸ†• ç±»åˆ«åç§°æ˜ å°„
- **æ–‡ä»¶**: `run_mem0_evaluation.py`, `evals.py`, `generate_scores.py`
- **æ”¹è¿›**: è¾“å‡ºæ—¶ä½¿ç”¨ç±»åˆ«åç§°è€Œä¸æ˜¯æ•°å­—
- **æ˜ å°„å…³ç³»**:
  - 1 â†’ `multi-hop` (å¤šè·³æ¨ç†é—®é¢˜)
  - 2 â†’ `temporal` (æ—¶é—´ç›¸å…³é—®é¢˜)
  - 3 â†’ `open-domain` (å¼€æ”¾åŸŸé—®é¢˜)
  - 4 â†’ `single-hop` (å•è·³é—®é¢˜)
  - 5 â†’ `adversarial` (å¯¹æŠ—æ€§é—®é¢˜ï¼Œè¯„ä¼°ä¸­è·³è¿‡)
- **å¥½å¤„**:
  - ğŸ“Š æ›´ç›´è§‚çš„ç»“æœå±•ç¤º
  - ğŸ“ˆ æ›´å®¹æ˜“åˆ¶ä½œå›¾è¡¨
  - ğŸ” æ›´å¥½çš„æ•°æ®åˆ†æä½“éªŒ
  - ğŸ“„ ä¿æŒå‘åå…¼å®¹ï¼ˆåŸå§‹æ•°å­—ä»ä¿å­˜åœ¨æ•°æ®ä¸­ï¼‰

### 1. ğŸ”§ ä½¿ç”¨HTTPè¯·æ±‚ä»£æ›¿memclient
- **æ–‡ä»¶**: `src/memzero/add.py`, `src/memzero/search.py`
- **æ”¹è¿›**: ç§»é™¤äº†å¯¹ `MemoryClient` çš„ä¾èµ–ï¼Œæ”¹ç”¨ `requests` åº“ç›´æ¥ä¸æœ¬åœ°mem0å®ä¾‹é€šä¿¡
- **å¥½å¤„**: ä¸å†éœ€è¦APIå¯†é’¥ã€ç»„ç»‡IDç­‰é…ç½®ï¼Œç›´æ¥è¿æ¥æœ¬åœ°å®ä¾‹

### 2. ğŸ”„ æ•´åˆè¯„ä¼°æµç¨‹
- **æ–°æ–‡ä»¶**: `run_mem0_evaluation.py`
- **æ”¹è¿›**: å°†åŸæ¥çš„ä¸‰ä¸ªç‹¬ç«‹æ­¥éª¤ï¼ˆsearchã€evalsã€generate_scoresï¼‰åˆå¹¶ä¸ºä¸€ä¸ªæµç¨‹
- **å¥½å¤„**: ä¸€æ¬¡è¿è¡Œå®Œæˆæ‰€æœ‰è¯„ä¼°æ­¥éª¤ï¼Œé¿å…æ‰‹åŠ¨æ“ä½œå¤šä¸ªå‘½ä»¤

### 3. ğŸ“Š CSVæ ¼å¼è¾“å‡º
- **æ–‡ä»¶**: `generate_scores.py`
- **æ”¹è¿›**: æ·»åŠ äº†CSVè¾“å‡ºåŠŸèƒ½ï¼ŒåŒæ—¶ä¿ç•™ç»ˆç«¯æ˜¾ç¤º
- **å¥½å¤„**: ç”Ÿæˆçš„å¾—åˆ†å¯ä»¥ç›´æ¥ç”¨äºæ•°æ®åˆ†æå’Œå›¾è¡¨åˆ¶ä½œ

### 4. ğŸ“ æ”¹è¿›ç›®å½•ç»“æ„
- **æ–°æ–‡ä»¶**: `results/README.md`, `USAGE.md`
- **æ”¹è¿›**: æ¯ä¸ªå®éªŒéƒ½æœ‰ç‹¬ç«‹çš„å¸¦æ—¶é—´æˆ³çš„ç›®å½•ï¼ŒåŒ…å«æ‰€æœ‰ç›¸å…³æ–‡ä»¶
- **å¥½å¤„**: æ›´å¥½çš„å®éªŒç®¡ç†ï¼Œä¾¿äºå¯¹æ¯”ä¸åŒå®éªŒç»“æœ

### 5. ğŸ¯ æ–°å¢Makefileå‘½ä»¤
- **æ–‡ä»¶**: `Makefile`
- **æ–°å¢å‘½ä»¤**:
  - `make run-mem0-eval`: å®Œæ•´è¯„ä¼°æµç¨‹ï¼ˆæ¨èï¼‰
  - `make run-mem0-eval-graph`: ä½¿ç”¨å›¾è°±æœç´¢çš„è¯„ä¼°
- **å¥½å¤„**: ä¸€é”®è¿è¡Œå®Œæ•´è¯„ä¼°ï¼Œç®€åŒ–æ“ä½œæµç¨‹

## ğŸš€ æ–°çš„ä½¿ç”¨æ–¹å¼

### ä¹‹å‰ï¼ˆå¤æ‚ï¼‰:
```bash
# 1. æ·»åŠ è®°å¿†
make run-mem0-add

# 2. æœç´¢è®°å¿†
make run-mem0-search

# 3. è¯„ä¼°ç»“æœ
python evals.py --input_file results/... --output_file evaluation_metrics.json

# 4. ç”Ÿæˆå¾—åˆ†ï¼ˆåªæœ‰ç»ˆç«¯è¾“å‡ºï¼‰
python generate_scores.py
```

### ç°åœ¨ï¼ˆç®€å•ï¼‰:
```bash
# ä¸€æ­¥åˆ°ä½ï¼
make run-mem0-eval
```

## ğŸ“ æ–°çš„ç›®å½•ç»“æ„

### ä¹‹å‰ï¼ˆæ··ä¹±ï¼‰:
```
results/
â”œâ”€â”€ mem0_results_top_30_filter_False_graph_False.json
â”œâ”€â”€ rag_results_500_k1.json
â”œâ”€â”€ evaluation_metrics.json
â”œâ”€â”€ scores.csv
â””â”€â”€ ... (æ‰€æœ‰æ–‡ä»¶æ··åœ¨ä¸€èµ·)
```

### ç°åœ¨ï¼ˆæœ‰åºï¼‰:
```
results/
â”œâ”€â”€ mem0_eval_top30_filterFalse_graphFalse_20250101_143022/
â”‚   â”œâ”€â”€ metadata.json           # å®éªŒé…ç½®å’Œç»“æœæ‘˜è¦
â”‚   â”œâ”€â”€ search_results.json     # æœç´¢ç»“æœ
â”‚   â”œâ”€â”€ evaluation_metrics.json # è¯„ä¼°æŒ‡æ ‡
â”‚   â””â”€â”€ scores.csv              # CSVå¾—åˆ†æŠ¥å‘Š
â””â”€â”€ mem0_eval_top30_filterTrue_graphTrue_20250101_150000/
    â”œâ”€â”€ metadata.json
    â”œâ”€â”€ search_results.json
    â”œâ”€â”€ evaluation_metrics.json
    â””â”€â”€ scores.csv
```

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### ç¯å¢ƒå˜é‡ç®€åŒ–
**ä¹‹å‰**:
```bash
MEM0_API_KEY=xxx
MEM0_ORGANIZATION_ID=xxx
MEM0_PROJECT_ID=xxx
```

**ç°åœ¨**:
```bash
MEM0_BASE_URL=http://127.0.0.1:7000
```

### é…ç½®ç¤ºä¾‹
å‚è€ƒ `demo_client.py` äº†è§£å¦‚ä½•é…ç½®æœ¬åœ°mem0å®ä¾‹

## ğŸ“š æ–°å¢æ–‡æ¡£

- `USAGE.md`: è¯¦ç»†ä½¿ç”¨æŒ‡å—
- `results/README.md`: ç»“æœç›®å½•è¯´æ˜
- `CHANGES.md`: æœ¬æ–‡ä»¶ï¼Œè®°å½•æ‰€æœ‰æ”¹è¿›

## ğŸ¯ å‘åå…¼å®¹æ€§

æ‰€æœ‰æ—§çš„å‘½ä»¤ä»ç„¶å¯ç”¨ï¼š
```bash
make run-mem0-add      # ä»ç„¶æœ‰æ•ˆ
make run-mem0-search   # ä»ç„¶æœ‰æ•ˆ
```